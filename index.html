
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="description" content="Kredit Syariah di Sangatta dengan prinsip transparansi dan tanpa riba" />
  <title>Kredit Syariah</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <a 
    id="wa-button"
    href="https://wa.me/6282352680715?text=Assalamualaikum%0ASaya%0ANama%20%3A%20%0Abisakah%20saya%20mendapatkan%20info%20selengkapnya%20tentang%20kredit.." 
    target="_blank">
    ðŸ’¬ Chat Admin Widiya
  </a>

  <div class="info-box">
    <h2>( KSS ) Kredit Syariah Sangatta</h2>
    <p>Kredit syariah dengan akad Murabahan: Transaksi transparan pembeli dan penjual saling mengetahui Harga Modal dan keuntungan.</p>
    <p>Akad jual beli</p>
    <p>Harga tetap dari awal</p>
    <p>Tanpa riba bunga</p>
    <p>Penyerahan berupa barang bukan uang</p>
  </div>

  <div class="container">
    <h2>Simulasi Cicilan</h2>

    <label for="hargaBarang">Harga Barang:</label>
    <input type="number" id="hargaBarang" placeholder="Contoh: 10000000">

    <label for="lamaCicilan">Lama Cicilan (bulan):</label>
    <input type="number" id="lamaCicilan" placeholder="Contoh: 10">

    <label for="dp">DP (opsional):</label>
    <input type="number" id="dp" placeholder="Contoh: 1000000">

    <button onclick="hitungCicilan()">Hitung Cicilan</button>

    <div id="hasilCicilan"></div>
  </div>


<div style="background: #fff; padding: 20px; margin-top: 40px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  <h3>Langkah Pengajuan Kredit</h3>
  <ol>
    <li>Chat Admin</li>
    <li>Tentukan salah satu skema pembelian</li>
  </ol>
</div>


<div style="background: #fff; padding: 20px; margin-top: 40px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  <h3>Skema Pembelian</h3>

    <h3>1. Cara Pertama</h3>
    <ol type="a">
      <li>Beritahu kami barang yang Anda butuhkan, toko dan harganya.</li>
      <li>Kami datang ke toko untuk membeli sesuai pilihan anda</li>
      <li>Kami membeli barang tersebut dan menjualnya ke Anda dengan harga sesuai hasil perhitungan</li>
      <li>Anda bisa ambil di tempat kami, atau barang kami antar ke rumah anda.</li>
    </ol>

    <h3>2. Cara Kedua</h3>
    <ol type="a">
      <li>Anda bersama kami mencari barang ke toko.</li>
      <li>Barang pilihan Anda kami beli dan langsung kami jual ke Anda dengan harga sesuai hasil perhitungan.</li>
    </ol>

    <h3>3. Cara Ketiga</h3>
    <ol type="a">
      <li>Anda meminta kami untuk mencarikan barang.</li>
      <li>Setelah barang kami dapatkan, kami akan membuat kesepakatan dengan Anda.</li>
      <li>Barang kami beli dan kami jual ke Anda dengan harga sesuai hasil perhitungan</li>
    </ol>
    <h3>3. Cara Keempat</h3>
    <ol type="a">
      <li>Anda survei ke toko yang menerima pembayaran transfer</li>
      <li>sampaikan specifikasi barang dan harganya, kami akan membeli dengan pembayaran transfer ke toko.</li>
      <li>Barang kami beli dan kami jual ke Anda dengan harga sesuai hasil perhitungan</li>
    </ol>
  
  </div>

  <div class="steps">
    <h3>Kemudahan yang didapatkan</h3>
    <ol>
      <li>Boleh Tanpa DP/Uang muka</li>
      <li>jika menggunakan DP akan meringankan cicilan bulanan</li>
      <li>DP menjadi wajib jika disyaratkan oleh tim survei</li>
    </ol>
 </div>
 <div class="steps">
    <h3>Syarat Pengajuan kredit</h3>
    <ol>
      <li>Amanah</li>
      <li>Bisa di hubungi</li>
      <li>Memiliki WA aktif</li>
      <li>Domisili di sangatta atau sekitarnya</li>
      <li>Menginfokan jika pindah alamat atau ganti no HP</li>
      <li>Siap melakukan pembayaran tepat waktu Via transfer pilih</li>
      <ol type="a">
        <li>BRI</li>
        <li>BSI</li>
      </ol>
      <li>Siap dibuatkan grup wa peserta 2 orang</li>
      <ol type="a">
        <li>Pemohon</li>
        <li>Admin KSS (Kredit Syariah Sangatta)</li>
      </ol>
    </ol>
  </div>
  
 <div class="steps">
    <h3>Untuk melihat data konsumen</h3>
    <ol>
      <li>Mintalah kode ke admin</li>
      <li>simpan kode rehasia tersebut</li>
      <li>masukkan ke kolom input cek data konsumen pada link dibawah</li>
    </ol>
</div>
    <div class="main-container">
        <div class="container">
            <header>
                <h1>Kredit Kutim Ringan</h1>
                <p>Cek Data Cicilan</p>
            </header>
            
            <div class="form-group">
                <label for="kode">Masukkan Kode 8 Digit: (Minta ke Admin)</label>
                <input type="text" id="kode" placeholder="Contoh: 23011188" maxlength="8">
                <button onclick="cekData()">Cek Data</button>
            </div>
            
            <div id="loading">Memeriksa data, harap tunggu...</div>
            <div id="error"></div>
            
            <div id="hasil" class="data-container">
                <div class="data-section">
                    <h2>Detail Konsumen</h2>
                    <div id="detailKonsumen"></div>
                </div>
                
                <div class="data-section">
                    <h2>Riwayat Pembayaran</h2>
                    <div id="riwayatCicilan"></div>
                </div>
            </div>
        </div>
</div>
   <script>
    function pembulatanRibuan(nilai) {
      return Math.floor(nilai / 1000) * 1000;
    }

    function hitungCicilan() {
      const harga = parseFloat(document.getElementById('hargaBarang').value);
      const lama = parseInt(document.getElementById('lamaCicilan').value);
      const dp = parseFloat(document.getElementById('dp').value) || 0;
      const hasil = document.getElementById('hasilCicilan');

      if (isNaN(harga) || isNaN(lama)) {
        hasil.innerHTML = "Harap isi Harga dan Lama Cicilan.";
        return;
      }

      if (lama > 12) {
        hasil.innerHTML = "<b>Maaf, maksimal cicilan 12 bulan.</b>";
        return;
      }

      let faktor = (lama <= 5) ? 1.10 : 1 + (lama * 0.02);
      const hargaSetelahDP = harga - dp;
      const hargaJualSementara = hargaSetelahDP * faktor;
      const cicilanAwal = hargaJualSementara / lama;
      const cicilanFinal = pembulatanRibuan(cicilanAwal);
      const hargaJualFinal = cicilanFinal * lama;

      const tanggalSekarang = new Date();
      tanggalSekarang.setMonth(tanggalSekarang.getMonth() + lama);
      const opsiTanggal = { month: 'long', year: 'numeric' };
      const batasAkhir = tanggalSekarang.toLocaleDateString('id-ID', opsiTanggal);

      hasil.innerHTML = `
        <p><b>Harga Jual:</b> Rp ${hargaJualFinal.toLocaleString('id-ID')}</p>
        <p><b>Cicilan Bulanan:</b> Rp ${cicilanFinal.toLocaleString('id-ID')}</p>
        <p><b>Batas Akhir Cicilan:</b> ${batasAkhir}</p>
      `;
    }

      async function cekData() {
            const kode = document.getElementById('kode').value.trim();
            const loading = document.getElementById('loading');
            const error = document.getElementById('error');
            const hasil = document.getElementById('hasil');
            
            // Sembunyikan pesan error dan hasil sebelumnya
            error.style.display = 'none';
            hasil.style.display = 'none';
            
            // Validasi kode
            if (!kode || kode.length !== 8) {
                error.textContent = 'Kode harus terdiri dari 8 digit';
                error.style.display = 'block';
                return;
            }
            
            // Tampilkan loading
            loading.style.display = 'block';
            
            try {
                // Panggil Google Apps Script API
                const url = `https://script.google.com/macros/s/AKfycbz5VJRylw-dvset6w_JhzVkgUZ1zW5viLtJTKDS7hPSgHuRDBu3vYxqBEHu4cqebfxu/exec?kode=${kode}`;
                const response = await fetch(url);
                
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                
                const data = await response.json();
                
                // Sembunyikan loading
                loading.style.display = 'none';
                
                if (data.status === 'success') {
                    // Tampilkan data konsumen
                    let htmlKonsumen = '';
                    
                    for (const [key, value] of Object.entries(data.data)) {
                        // Skip riwayat pembayaran (ditampilkan terpisah)
                        if (key === 'riwayat') continue;
                        
                        htmlKonsumen += `
                            <div class="data-item">
                                <span class="data-label">${key.charAt(0).toUpperCase() + key.slice(1)}: </span>
                                <span class="data-value">${value}</span>
                            </div>
                        `;
                    }
                    
                    document.getElementById('detailKonsumen').innerHTML = htmlKonsumen;
                    
                    // Tampilkan riwayat cicilan jika ada
                    let htmlRiwayat = '';
                    if (data.riwayat && data.riwayat.length > 0) {
                        data.riwayat.forEach(item => {
                            htmlRiwayat += `
                                <div class="data-item">
                                    <span class="data-label">${item.bulan}: </span>
                                    <span class="data-value">${item.status} (${item.tanggal})</span>
                                </div>
                            `;
                        });
                    } else {
                        htmlRiwayat = '<p>Tidak ada riwayat pembayaran</p>';
                    }
                    
                    document.getElementById('riwayatCicilan').innerHTML = htmlRiwayat;
                    
                    // Tampilkan hasil
                    hasil.style.display = 'block';
                } else {
                    error.textContent = data.message || 'Kode tidak ditemukan. Pastikan kode yang dimasukkan benar.';
                    error.style.display = 'block';
                }
            } catch (err) {
                loading.style.display = 'none';
                error.textContent = 'Terjadi kesalahan saat mengambil data. Silakan coba lagi.';
                error.style.display = 'block';
                console.error('Error:', err);
            }
        }

     
   </script>
  
</body>
</html>
